\documentclass[10pt,t]{beamer}

\include{mypreamble}
\beamertemplateballitem

\newcolumntype{a}{>{\columncolor{lulime}}c}
\newcolumntype{b}{>{\columncolor{lulime!60}}c}

\hypersetup{
  pdftitle={C Programming}
  pdfauthor={Alexander B. Pacheco, LTS Research Computing, Lehigh University}
}

\title{C Programming II}


\author[Alex Pacheco]{\large{Alexander~B.~Pacheco}}
       
\institute{\href{http://researchcomputing.lehigh.edu}{LTS Research Computing}}

\date{June 3, 2015}
     
\subject{Talks}
\keywords{Lehigh Research Computing Resources, C Programming}
% This is only inserted into the PDF information catalog. Can be left
% out. 


% Delete this, if you do not want the table of contents to pop up at
% the beginning of each subsection:
\AtBeginSection[]
{
  \begingroup
  \setbeamertemplate{background canvas}[vertical shading][bottom=lubrown,top=lubrown]
  \setbeamertemplate{footline}[myfootline] 
  \setbeamertemplate{section page}[mysection]
  \frame[c]{
    \sectionpage
  }
  \endgroup
}

\titlegraphic{\includegraphics[scale=0.5]{lu}}

\begin{document}

\frame{\titlepage}

\begin{frame}{Outline}
  \tableofcontents
\end{frame}

\section{Functions}
\begin{frame}[fragile]{Functions}
  \begin{itemize}
  \item A function is a group of statements that together perform a task.
  \item Every C program has at least one function, which is main()
  \item Functions receive either a fixed or variable amount of arguments.
  \item Functions can only return one value, or return no value (void).
  \item In C, arguments are \textbf{passed by value} to functions
  \item How to return value? - \textbf{Pointers}
  \item Functions are defined using the following syntax:
    \begin{lstlisting}
      return_type function_name( parameter list )
      {
        body of the function
      }
    \end{lstlisting}
  \item A function \textbf{declaration} tells the compiler about a function's name, return type, and parameters.
  \item A function \textbf{definition} provides the actual body of the function.
  \end{itemize}
\end{frame}

\begin{frame}[fragile]{Function Definition}
  \begin{itemize}
  \item \textbf{Return Type:} Function's return type is the data type of the value the function returns. When there is no return value, return void.
  \item \textbf{Function Name:} This is the actual name of the function.
  \item \textbf{Parameter:} The parameter list refers to the type, order, and number of the parameters of a function. A function may contain no parameters.
  \item \textbf{Function Body:} The function body contains a collection of statements that define the function behavior.
  \end{itemize}
  \lstinputlisting[language=C,firstline=20,lastline=32]{./Example/findmax.c}
\end{frame}

\begin{frame}{Example of using a Function}
  \lstinputlisting[language=C]{./Example/findmax.c}
\end{frame}

\begin{frame}[fragile,allowframebreaks]{Scope Rules: Local \& Global Variables}
  \begin{itemize}
  \item A scope is a region of the program where a defined variable can have its existence and beyond that variable can not be accessed.
  \item \textbf{\color{lublue}Local Variables:} declared inside a function or block.
  \item[] can be used only by statements that are inside that function or block of code.
  \item[] Local variables are not known to functions outside their own.
  \item \textbf{\color{lublue}Global Variables:}  defined outside of a function, usually on top of the program.
  \item[] will hold their value throughout the lifetime of your program and,
  \item[] they can be accessed inside any of the functions defined for the program.
  \item A program can have same name for local and global variables but value of local variable inside a function will take preference.
%  \item \textbf{\color{lublue}Formal Parameters:} Function parameters, formal parameters, are treated as local variables with-in that function and they will take preference over the global variables.
  \end{itemize}
  \lstinputlisting[language=C]{./Example/scope.c}
  \begin{lstlisting}
    value of a in main() = 10
    value of a in sum() = 10
    value of b in sum() = 20
    value of c in main() = 30
  \end{lstlisting}
\end{frame}

\begin{frame}{Initializing Local \& Global Variables}
  \begin{itemize}
  \item Local Variables are not initialized by the system, the programmer must initialize it.
  \item Global variables are automatically initialized by the system depending on the data type
    
    \begin{tabular}{ab}
      \rowcolor{lublue}Data Type & Initial Default Value \\
      int & 0 \\
      char & '\textbackslash{}0' \\
      float & 0 \\
      double & 0 \\
      pointer & NULL \\
    \end{tabular}
    \item \textit{It is a good programming practice to initialize variables properly otherwise, your program may produce unexpected results because uninitialized variables will take some garbage value already available at its memory location.}
  \end{itemize}
\end{frame}

\section{Arrays}
\begin{frame}[fragile]{Arrays}
  \begin{itemize}
  \item Arrays are special variables which can hold more than one value using the same name with an index.
  \item Declaring Arrays: \lstinline|type arrayName [ arraySize ];|
    \begin{lstlisting}[language=C]
      /* simply define the arrays */
      double balance[10];
      float atom[1000];
      int index[5];
    \end{lstlisting}
  \item C array starts its index from 0

    \begin{tabular}{|c|c|c|c|c|}
      \hline
      [0] & [1] & [2] & [3] & [4] \\
      \hline
      10 & 15 & 14 & 3 & 7 \\
      \hline
    \end{tabular}
  \item[] index[2] (3rd element of the array) has a value 14
  \item Initialize arrays with values
    \begin{lstlisting}[language=C]
      /* initialize the array with values*/
      double atmass[4] = {12.0, 1.0, 1.0, 16.0};
      double atmass[] = {12.0, 1.0, 1.0, 16.0};
      atmass[0] = 12.0
    \end{lstlisting}
  \item Access array values via index
    \begin{lstlisting}[language=C]
      /* access the array values*/
      int current_index = index[i];
      double current_value=value[current_cell_index];
    \end{lstlisting}
  \end{itemize}
\end{frame}

\begin{frame}[fragile]{Array Example}
  \lstinputlisting[language=C]{./Example/array.c}
\end{frame}

\begin{frame}[fragile]{Accessing C arrays}
  \begin{itemize}
  \item C arrays are a sequence of elements with contiguous addresses.
  \item There is no bounds checking in C.
  \item Be careful when accessing your arrays
  \item Compiler will not give you error, you will have *undefined* runtime behavior:
  \end{itemize}
  \begin{lstlisting}
#include <stdio.h>

int main() {
  
  int index[5]={5, 4, 6, 3, 1};
  
  int a=3;
  
  /* undefined behavior */
  
  printf("%d\n",index[5]);
  
}
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Multidimensional Arrays}
  \begin{itemize}
  \item General form of multidimensional array
  \item[] \lstinline[basicstyle=\scriptsize\ttfamily]|type name[size1][size2]...[sizeN];|
  \item Declaring 2D and 3D arrays:
    \begin{lstlisting}
      float array2d[4][5];
      double array3d[2][3][4];
    \end{lstlisting}
  \item Initializing multidimensional arrays
    \begin{lstlisting}
      int a[3][4] = {{/* 2D array is composed of 1D arrays*/
        {0, 1, 2, 3} ,   /*  initializers for row indexed by 0 */
        {4, 5, 6, 7} ,   /*  initializers for row indexed by 1 */
        {8, 9, 10, 11}   /*  initializers for row indexed by 2 */
        };
    \end{lstlisting}
    \begin{center}
      \begin{tabular}{c|c|c|c|c|}
        \multicolumn{1}{c}{}& \multicolumn{1}{c}{\textbf{col0}} & \multicolumn{1}{c}{\textbf{col1}} & \multicolumn{1}{c}{\textbf{col2}} & \multicolumn{1}{c}{\textbf{col3}} \\
        \cline{2-5}
        \textbf{row0} & a[0][0]=0 & a[0][1]=1 & a[0][2]=2 & a[0][3]=3 \\
        \cline{2-5}
        \textbf{row1} & a[1][0]=4 & a[1][1]=5 & a[1][2]=6 & a[1][3]=7 \\
        \cline{2-5}
        \textbf{row2} & a[2][0]=8 & a[2][1]=9 & a[2][2]=10 & a[2][3]=11\\
        \cline{2-5}
      \end{tabular}
    \end{center}
  \item C arrays are \textbf{row major} order i.e. in memory, the C array appears as
  \end{itemize}
      {\scriptsize
        \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|}
          \hline
          a[0][0] & a[0][1] & a[0][2] & a[0][3] & a[1][0] & a[1][1] & $\cdots$ & a[1][3] & a[2][0] & $\cdots$ & a[2][3]\\
          \hline
        \end{tabular}
      }
\end{frame}

\begin{frame}[fragile]{Example: Arrays}
  \lstinputlisting{./Example/minmaxsum.c}
\end{frame}

\begin{frame}[fragile,allowframebreaks]{Strings in C}
  \begin{itemize}
  \item Strings in C are a special type of array: array of characters terminated by a null character '\textbackslash{}0'.

    \begin{lstlisting}
      /* define string */
      char str[7]={'H', 'E', 'L', 'L', 'O', '!', '\0'};
      char str1="HELLO!";
    \end{lstlisting}

  \item Memory presentation of above defined string in C/C++:

    \begin{tabular}{|c|c|c|c|c|c|c|c|}
      \hline
      str[] & [0] & [1] & [2] & [3] & [4] & [5] & [6] \\
      \cline{2-8}
      & 'H' & 'E' & 'L' & 'L' & 'O' & '!' & '\textbackslash{}0' \\
     \hline
    \end{tabular}

  \item C uses built-in functions to manipulate strings:
    \begin{lstlisting}
      /* C sample string functions */
      strcpy(s1, s2); /* Copies string s2 into string s1.*/
      strcat(s1, s2); /* Concatenates string s2 onto the end of string s1. */
      strlen(s1); /* Returns the length of string s1. */
      strcmp(s1, s2); /* Returns 0 if s1 and s2 are the same; less than 0 if
      s1<s2; greater than 0 if s1>s2. */
    \end{lstlisting}
  \end{itemize}

  \lstinputlisting[language=C]{./Example/strings.c}
\end{frame}

\section{Pointers}
\section{Input/Output}

\end{document}

